@( explorativeTracings: List[models.tracing.Tracing], userTasks: List[(models.task.Task, models.tracing.Tracing)], trackedTimeOpt: Option[Map[models.user.PaymentInterval, scala.concurrent.duration.Duration]], dataSets: List[models.binary.DataSet])(implicit session: brainflight.view.AuthedSessionData)

@main(){
  <div class="container" id="dashboard">
    <h3>Tasks</h3>
    <table class="table table-striped" id="dashboard-tasks">
      <thead>
        <tr>
          <th> # </th>
          <th> Type </th>
          <th> Project </th>
          <th> Description </th>
          <th> Modes </th>
          <th> </th>
        </tr>
      </thead>
      <tbody>
      @userTasks.map{ case (task, tracing) => 
        @taskTracingTableItem(task, tracing)
      }
      </tbody>
    </table>
    <a href="@controllers.routes.TaskController.request" class="btn"  data-ajax="add-row=#dashboard-tasks">Get a new task</a>

    <hr />

    <h3>Explorative Tracings</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th> # </th>
          <th> DataSet </th>
          <th> Trees </th>
          <th> Tracing-Type </th>
          <th> Last edited </th>
          <th> </th>
        </tr>
      </thead>
      <tbody>
      @explorativeTracings.map{ tracing => 
        @explorativeTracingTableItem(tracing)
      }
      </tbody>
    </table>

    <div>
    @helper.form(action = controllers.admin.routes.NMLIO.upload, 'enctype -> "multipart/form-data", 'id -> "nml-explore-form", 'class -> "form-inline inline-block"){
      <button type="submit" class="btn"><i class="icon-upload"></i> Upload NML & explore</button>
    }
    <div class="divider-vertical"></div>
    @helper.form(action = controllers.routes.TracingController.createExplorational, 'class -> "form-inline inline-block") {
      <select name="dataSetId">
        @dataSets.map{ d => 
          <option value="@d.id"> @d.name </option>
        }
      </select>
      <button type="submit" class="btn"><i class="icon-search"></i> Explore data set</button>
    }
    </div>
    @trackedTimeOpt.map{ trackedTime =>
      <h3>Tracked Time</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th> Month </th>
            <th> Worked </th>
            <th> Payed </th>
          </tr>
        </thead>
        <tbody>
        @trackedTime.map{ case (interval, time) => 
          <tr>
            <td> @interval </td>
            <td> @formatTimeHumanReadable(time) </td>
            <td> </td>
          </tr>
        }
        </tbody>
      </table>
    }
  </div>
  <div class="well" id="credits">
    <div class="container">
      <h3>Credits</h3>
      <section class="row">
        <div class="span4">
          <h4>Max Planck Institute of Neurobiology</h4>
          <p>
            Structure Of Neocortical Circuits<br />
            <a href="http://www.neuro.mpg.de/helmstaedter">http://www.neuro.mpg.de/helmstaedter</a>
          </p>
          <ul>
            <li>Moritz Helmstaedter</li>
            <li>Manuel Berning</li>
            <li>Kevin Boergens</li>
          </ul>
        </div>
        <div class="span4">
          <h4>scalable minds</h4>
          <p><a href="http://scm.io">http://scm.io</a></p>
          <ul>
            <li>Tom Bocklisch</li>
            <li>Dominic Bräunlein</li>
            <li>Johannes Frohnhofen</li>
            <li>Tom Herold</li>
            <li>Norman Rzepka</li>
            <li>Thomas Werkmeister</li>
            <li>Daniel Werner</li>
            <li>Georg Wiese</li>
          </ul>
        </div>
      </section>
      <section>
        <p>Oxalis is using Brainflight technology for real time data delivery, implemented by</p>
        <h4>scalable minds</h4>
        <ul>
          <li>Tom Bocklisch</li>
          <li>Dominic Bräunlein</li>
          <li>Tom Herold</li>
          <li>Norman Rzepka</li>
          <li>Thomas Werkmeister</li>
        </ul>
      </section>
      <section>
        <p>
          The Oxalis frontend was partly inspired by Knossos:
        </p>
        <p>
          Helmstaedter, M., K.L. Briggman, and W. Denk,<br />
          High-accuracy neurite reconstruction for high-throughput neuroanatomy. <br/>
          Nat. Neurosci. 14, 1081–1088, 2011.<br />
          <a href="http://www.knossostool.org">http://www.knossostool.org</a>
        </p>
      </section>
      <section>
        <p>
          For more information about our project, visit <a href="http://www.brainflight.net">http://www.brainflight.net</a>.
        </p>

        <p>&copy; Max Planck Institut of Neurobiology, Structure Of Neocortical Circuits</p>
      </section>
    </div>
  </div>

}