@(showNavButtons: Boolean = true)(implicit session: oxalis.view.SessionData)

@import play.api.Play.current

@if(showNavButtons) {
  <header class="navbar navbar-fixed-top navbar-inverse">
    <div class="navbar-inner">
      <a class="brand" href="@routes.Application.index">@current.configuration.getString("application.name")</a>
       @session.userOpt.map{ user =>
         <ul class="nav" id="main-menu">
          <li class="divider-vertical"></li>
          <li>
            <a href="@routes.UserController.dashboard"><i class="icon-home icon-white"></i> Dashboard</a>
          </li>
          @if(user.hasAdminAccess){
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <i class="icon-wrench icon-white"></i>
                Administration
                <b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a href="/users">Users</a>
                </li>
                <li>
                  <a href="@controllers.admin.routes.ProjectAdministration.list">Projects</a>
                </li>
                <li>
                  <a href="@controllers.admin.routes.BinaryDataAdministration.list">DataSets</a>
                </li>

                <li class="dropdown-submenu">
                  <a tabindex="-1" href="@controllers.admin.routes.TaskAdministration.list">Tasks</a>
                  <ul class="dropdown-menu">
                    <li>
                      <a href="@controllers.admin.routes.TaskAdministration.overview">Overview</a>
                    </li>
                    <li>
                      <a href="@controllers.admin.routes.TaskTypeAdministration.list">Types</a>
                    </li>
                    <li>
                      <a href="@controllers.admin.routes.TaskAlgorithm.index">Algorithm</a>
                    </li>
                  </ul>
                </li>
                <li>
                  <a tabindex="-1" href="@controllers.admin.routes.TrainingsTaskAdministration.list">Trainings-Tasks</a>
                </li>
              </ul>
            </li>
          }
          <li>
            <a href="@routes.GithubIssues.index" data-newwindow="700x470"><i class="icon-ambulance icon-white"></i>
              Submit an issue</a>
          </li>
          <li class="divider-vertical"></li>
        </ul>
        <ul class="nav pull-right">
          <li class="divider-vertical"></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <i class="icon-user icon-white"></i> <strong>@user.name</strong> <span>(@user.email)</span>
              <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <!--<li>
              <a href="#"><i class="icon-edit"></i> Edit Profile</a>
            </li>-->
              <li>
                <a href="@routes.Authentication.logout()"><i class="icon-off"></i> Logout</a>
              </li>
            </ul>
          </li>
        </ul>
      }.getOrElse {
        <ul class="nav pull-right">
          <li>
            <a href="@controllers.routes.Authentication.login()">Login</a>
          </li>
        </ul>
      }
    </div>
  </header>
} else {
  @paleHeader()
}
