@(datasets: List[models.binary.DataSet])(implicit session: oxalis.view.SessionData)

@import braingames.util.Reflect

@main() {

  <div class="container">
    <div id="oxalis-header">
      <img src="@controllers.routes.Assets.at("images/oxalis.svg")">
      <div><p>Oxalis</p></div>
    </div>
    @datasets.filter(_.isActive).groupBy(_.owningTeam).map{ case (team, ds) =>

      @ds.map{ dataSet =>
        <div class="dataset panel panel-default">
          <div class="panel-body row">
            <div class="dataset-thumbnail col-sm-4">
              <a href="@controllers.routes.DataSetController.view(dataSet.name)">
                @dataSet.dataSource.flatMap(_.getByCategory("color")).map{ colorLayer =>
                  <img src="@controllers.routes.DataSetController.thumbnail(dataSet.name, colorLayer.name)" class="img-rounded"/>
                }
                <i class="fa fa-play"></i>
              </a>
            </div>
            <div class="dataset-description col-sm-8">
              <h3>@team</h3>
              <h4>Original data and segmentation</h4>
              <p><h4>Dataset: @dataSet.name</h4></p>
              <p>@Html(dataSet.description getOrElse "")</p>
            </div>
          </div>
        </div>
      }
    }
  </div>
  @credits()
}

