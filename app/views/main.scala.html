@(userOpt: Option[models.user.User], showNavButtons: Boolean = true)(body: Html)
@import models.security.Role

<!doctype html>
<html>
  <head>
    <title>Oxalis</title>
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
    <link rel="stylesheet" type="text/css" media="screen" href="@routes.Assets.at("css/bootstrap.min.css")">
    <link rel="stylesheet" type="text/css" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
    <script type="text/javascript" src="@routes.Assets.at("javascripts/libs/jquery-1.7.1.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/libs/underscore-1.2.0.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/libs/bootstrap.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/main.js")"></script>
    <script type="text/javascript" src="@routes.Application.javascriptRoutes"></script>
  </head>
  <body>
    <header class="navbar navbar-static-top navbar-inverse">
      <div class="navbar-inner">
        @if(showNavButtons){
          <a class="brand" href="@routes.Game.index">Oxalis</a>
          <ul class="nav">
            <li class="divider-vertical"></li>
            <li>
              <a href="@routes.UserController.dashboard"><i class="icon-home icon-white"></i> Dashboard</a>
            </li>
            @userOpt.filter( _.hasRole(Role("admin").get)).map{ user =>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <i class="icon-wrench icon-white"></i>
                  Administration
                  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a href="@controllers.admin.routes.UserAdministration.index">Users</a>
                  </li>  
                  <li class="dropdown-submenu">
                    <a tabindex="-1" href="@controllers.admin.routes.TaskAdministration.list">Tasks</a>
                    <ul class="dropdown-menu">
                        <li>
                          <a href="@controllers.admin.routes.TaskAdministration.create">Create</a>
                        </li>
                        <li>
                          <a href="@controllers.admin.routes.TaskAdministration.list">List</a>
                        </li>
                        <li>
                          <a href="@controllers.admin.routes.TaskAdministration.types">Types</a>
                        </li>
                        <li>
                          <a href="@controllers.admin.routes.TaskAlgorithm.index">Algorithm</a>
                        </li>
                    </ul>
                  </li>
                </ul>
              </li>
            }
           <li>
              <a href="@routes.Jira.index" data-newwindow="700x470"><i class="icon-fire icon-white"></i> Submit an issue</a>
            </li>
            <li>
              <a href="#" id="help-overlay"><i class="icon-info-sign icon-white">
              </i> Help</a>
            </li>
            <li class="divider-vertical"></li>
          </ul>
          @userOpt.map{ user =>

            <ul class="nav pull-right">
              <li class="divider-vertical"></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <i class="icon-user icon-white"></i>  <strong>@user.name</strong> <span>(@user.email)</span>
                  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a href="#"><i class="icon-edit"></i> Edit Profile</a>
                  </li>
                  <li>
                    <a href="@routes.Application.logout()"><i class="icon-off"></i> Logout</a>
                  </li>
                </ul>
              </li>
            </ul>           
            
            

          }.getOrElse{
            <ul class="nav pull-right">
              <li>
                <a href="@controllers.routes.Application.login()">Login</a>
              </li>
            </ul>

          }
        } else {
          <span class="brand">Oxalis</span>
        }
      </div>
    </header>
    <div id="alert-container"></div>
    <div id="main-container">
      @body
    </div>
  </body>
</html>

