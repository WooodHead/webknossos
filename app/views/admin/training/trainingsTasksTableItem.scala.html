@(user: models.user.User, task: models.task.Task)
@import braingames.reactivemongo.GlobalAccessContext
@import play.api.libs.concurrent.Execution.Implicits._
@import views.html.admin.annotation._

<tr>
  <td class="details-toggle"> <i class="caret-right"></i> <i class="caret-down"></i> </td>
  <td> @formatHash(task.id) </td>
  <td> @task.seedIdHeidelberg </td>
  <td> @task.taskType(GlobalAccessContext).map(_.summary).getOrElse("<deleted>") </td>
  <td> @task.annotationBase(GlobalAccessContext).map(_.dataSetName) </td>
  <td> @task.annotationBase(GlobalAccessContext).map(_.content.map(_.editPosition)) </td>
  @task.training.map{ training =>
  	<td> @training.domain (+@training.gain, -@training.loss) </td>
  }.getOrElse( <td></td> )
  <td> @task.created.formatted("yyyy-MM-dd HH:mm") </td>

  <td>
    <a href="@controllers.admin.routes.TrainingsTaskAdministration.delete(task.id)" data-ajax="delete-row,confirm"><i class="fa fa-trash-o"></i> delete </a>
  </td>
</tr>
<tr class="details-row" >
  <td colspan="11">
    <table class="table table-condensed table-nohead">
      <tbody>
        @task.annotations(GlobalAccessContext).map{ annotations =>
          @annotations.map{ annotation =>
        	  @simpleAnnotation(annotation, Some(user), net.liftweb.common.Empty)
          }
        }
      </tbody>
    </table>
  </td>
</tr>
