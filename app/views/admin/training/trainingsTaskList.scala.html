@(tasks: List[models.task.Task])(implicit session: oxalis.view.AuthedSessionData)

@main() {
  <div class="container">
    <h3>Trainings-Tasks</h3>

    <div class="page-selection"
      data-url="@controllers.admin.routes.TrainingsTaskAdministration.list()"
      data-paged-table-id="tasklist-table">
      <input type="text" class="search-query pagination-searchbox" placeholder="Search">
      <a href="@controllers.admin.routes.TrainingsTaskAdministration.create()" class="pagination-createNew">Create new Training</a>
    </div>

    <table id="tasklist-table" class="table table-double-striped table-details">
      <thead>
        <tr>
          <th class="details-toggle-all"> <i class="caret-right"></i> <i class="caret-down"></i> </th>
          <th> # </th>
          <th> Team </th>
          <th> Type </th>
          <th> DataSet </th>
          <th> Edit position </th>
          <th> Experience Change </th>
          <th> Created </th>
        </tr>
      </thead>
      <tbody class="hide">
        <tr id="<%= element.id %>">
          <td class="details-toggle" href="<%= controllers.AnnotationController.annotationsForTask(element.id).url %>" data-ajax="add-row=#<%= element.id %>+tr"> <i class="caret-right"></i> <i class="caret-down"></i> </td>
          <td> <%= element.formattedHash %> </td>
          <td> <%= element.team %> </td>

          <td> <%= element.type.summary || "<deleted>" %> </td>
          <td> <%= element.dataSet %> </td>
          <td> (<%= element.editPosition %>) </td>

          <td> <% print(element.training.domain + " (+" + element.training.gain + ", -" + element.training.loss + ")")%></td>
          <td> <%= element.created %> </td>

          <td>
            <a href="<%= controllers.admin.TrainingsTaskAdministration.delete(element.id).url %>" data-ajax="delete-row,confirm"><i class="fa fa-trash-o"></i> delete </a>
          </td>
        </tr>
        <tr class="details-row hide" >
          <td colspan="11">
            <table class="table table-condensed table-nohead">
              <tbody>

              </tbody>
            </table>
          </td>
        </tr>

      </tbody>
    </table>
  </div>
}